---
interface Props {
	title: string;
	subtitle: string;
}

const { title, subtitle } = Astro.props;
---

<section class="py-20 px-4 sm:px-6 lg:px-8" id="waitlist">
	<div class="max-w-4xl mx-auto">
		<div class="relative rounded-2xl p-8 sm:p-12 overflow-hidden">
			<!-- Gradient background -->
			<div class="absolute inset-0 bg-gradient-to-br from-primary/10 to-accent/10"></div>
			<div class="absolute inset-0 border border-white/10 rounded-2xl"></div>

			<div class="relative text-center">
				<h2 class="text-2xl sm:text-3xl font-bold text-text-white mb-4">
					{title}
				</h2>
				<p class="text-text-gray max-w-xl mx-auto mb-8">
					{subtitle}
				</p>

				<form id="cta-form" action="https://formspree.io/f/manknzlv" method="POST" class="max-w-md mx-auto flex flex-col gap-3">
					<div>
						<label for="cta-email" class="sr-only">Email address</label>
						<input
							id="cta-email"
							name="Email"
							type="email"
							placeholder="Enter your email"
							required
							class="w-full px-4 py-3 rounded-lg bg-bg-dark/50 border border-white/10 text-text-white placeholder:text-text-muted focus:outline-none focus:border-primary transition-colors"
						/>
					</div>

					<div>
						<label for="cta-bottleneck" class="sr-only">What's your biggest bottleneck?</label>
						<select
							id="cta-bottleneck"
							name="Bottleneck"
							class="w-full px-4 py-3 rounded-lg bg-bg-dark/50 border border-white/10 text-text-white focus:outline-none focus:border-primary transition-colors appearance-none cursor-pointer"
							style="background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%278%27 viewBox=%270 0 12 8%27%3e%3cpath fill=%27%23999%27 d=%27M6 8L0 0h12z%27/%3e%3c/svg%3e'); background-repeat: no-repeat; background-position: right 1rem center; background-size: 0.75rem;"
						>
							<option value="" selected>What's your biggest bottleneck? (optional)</option>
							<option value="Developers answering repetitive questions">Developers answering repetitive questions</option>
							<option value="New hire onboarding taking too long">New hire onboarding taking too long</option>
							<option value="Cross-team decisions/waiting for answers">Cross-team decisions/waiting for answers</option>
							<option value="Finding information across scattered tools">Finding information across scattered tools</option>
							<option value="Incident response delays">Incident response delays</option>
							<option value="Something else">Something else</option>
						</select>
					</div>

					<div>
						<label for="cta-role" class="sr-only">Your role</label>
						<input
							id="cta-role"
							name="Role"
							type="text"
							placeholder="What's your role? (optional)"
							class="w-full px-4 py-3 rounded-lg bg-bg-dark/50 border border-white/10 text-text-white placeholder:text-text-muted focus:outline-none focus:border-primary transition-colors"
						/>
					</div>

					<input type="text" name="_gotcha" style="display:none" />

					<button type="submit" class="btn-primary w-full sm:w-auto sm:self-center">
						Join Waitlist
					</button>
				</form>

				<p class="mt-4 text-xs text-text-muted">
					We use <a href="https://formspree.io/">Formspree.io</a> to process waiting lists.
					Check their privacy policy for how they process your data
				</p>
			</div>
		</div>
	</div>
</section>
