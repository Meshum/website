---
// Reusable CTA (Call-to-Action) component with email signup form
interface Props {
	heading: string;
	subheading: string;
	buttonText?: string;
	footerText?: string;
	maxWidth?: "4xl" | "5xl";
}

const {
	heading,
	subheading,
	buttonText = "get early access",
	footerText = "5-minute setup â€¢ No credit card required",
	maxWidth = "5xl"
} = Astro.props;

const containerClass = maxWidth === "4xl" ? "max-w-4xl" : "max-w-5xl";
---

<section class="py-32 bg-linear-to-br from-primary/95 to-accent/95 relative overflow-hidden">
	<!-- Animated gradient overlay -->
	<div class="absolute inset-0 bg-linear-to-br from-primary to-accent opacity-90 animate-gradient"></div>

	<!-- Subtle dot pattern -->
	<div class="absolute inset-0 opacity-5">
		<svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
			<defs>
				<pattern id="cta-pattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
					<circle cx="20" cy="20" r="1" fill="white"/>
				</pattern>
			</defs>
			<rect width="100%" height="100%" fill="url(#cta-pattern)"/>
		</svg>
	</div>

	<div class={`${containerClass} mx-auto px-6 text-center relative z-10`}>
		<h2 class="font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight">
			{heading}
		</h2>

		<p class="font-body text-xl text-white/95 mb-12 leading-relaxed max-w-2xl mx-auto">
			{subheading}
		</p>

		<!-- Email signup form -->
		<div class="flex flex-col sm:flex-row gap-4 justify-center max-w-xl mx-auto mb-8">
			<label class="sr-only" for="email">Email</label>
			<input
				id="email"
				name="email"
				type="email"
				placeholder="you@company.com"
				class="flex-1 px-6 py-4 rounded-xl border-2 border-white/20 bg-white/10 backdrop-blur text-white placeholder-white/60 font-body text-lg focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 transition-all"
			/>
			<button class="px-8 py-4 rounded-xl bg-white hover:bg-white/95 text-primary font-heading font-bold text-lg transition-all shadow-xl hover:shadow-2xl hover:-translate-y-0.5">
				{buttonText}
			</button>
		</div>

		<p class="text-sm text-white/80 font-body">
			{footerText}
		</p>
	</div>
</section>

<style>
	/* Subtle animated gradient */
	@keyframes gradient {
		0%, 100% {
			opacity: 0.3;
		}
		50% {
			opacity: 0.5;
		}
	}

	.animate-gradient {
		animation: gradient 8s ease-in-out infinite;
	}
</style>
