---
import { Image } from 'astro:assets';
const currentYear = new Date().getFullYear();
import logo from '../../public/logo.svg';

const footerLinks = {
	product: [
		{ label: "Features", href: "/features" },
		{ label: "Use Cases", href: "/features#use-cases" },
		{ label: "Security", href: "/about#security" },
	],
	company: [
		{ label: "About", href: "/about" },
		{ label: "GitHub", href: "https://github.com/meshum", external: true },
	],
	resources: [
		{ label: "Documentation", href: "#", coming: true },
		{ label: "API Reference", href: "#", coming: true },
	],
};
---

<footer class="border-t border-white/5 bg-bg-darker">
	<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
		<div class="grid grid-cols-2 md:grid-cols-4 gap-8">
			<!-- Brand -->
			<div class="col-span-2 md:col-span-1">
				<a href="/" class="flex items-center gap-3 mb-4">
					<Image src={logo} alt="Meshum" class="w-8 h-8" />
					<span class="text-lg font-semibold text-text-white">Meshum</span>
				</a>
				<p class="text-sm text-text-gray leading-relaxed">
					Connect your knowledge.<br />Unblock your teams.
				</p>
			</div>

			<!-- Product -->
			<div>
				<h3 class="text-sm font-semibold text-text-white mb-4">Product</h3>
				<ul class="space-y-3">
					{
						footerLinks.product.map((link) => (
							<li>
								<a href={link.href} class="text-sm text-text-gray hover:text-text-white transition-colors">
									{link.label}
								</a>
							</li>
						))
					}
				</ul>
			</div>

			<!-- Company -->
			<div>
				<h3 class="text-sm font-semibold text-text-white mb-4">Company</h3>
				<ul class="space-y-3">
					{
						footerLinks.company.map((link) => (
							<li>
								<a
									href={link.href}
									target={link.external ? "_blank" : undefined}
									rel={link.external ? "noopener noreferrer" : undefined}
									class="text-sm text-text-gray hover:text-text-white transition-colors"
								>
									{link.label}
									{link.external && (
										<span class="inline-block ml-1">
											<svg class="w-3 h-3 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path
													stroke-linecap="round"
													stroke-linejoin="round"
													stroke-width="2"
													d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
												/>
											</svg>
										</span>
									)}
								</a>
							</li>
						))
					}
				</ul>
			</div>

			<!-- Resources -->
			<div>
				<h3 class="text-sm font-semibold text-text-white mb-4">Resources</h3>
				<ul class="space-y-3">
					{
						footerLinks.resources.map((link) => (
							<li>
								<span class="text-sm text-text-muted">
									{link.label}
									{link.coming && (
										<span class="ml-2 text-xs px-1.5 py-0.5 rounded bg-white/5 text-text-muted">Soon</span>
									)}
								</span>
							</li>
						))
					}
				</ul>
			</div>
		</div>

		<div class="mt-12 pt-8 border-t border-white/5 flex flex-col sm:flex-row justify-between items-center gap-4">
			<p class="text-sm text-text-muted">
				&copy; {currentYear} Meshum. All rights reserved.
			</p>
			<div class="flex items-center gap-6">
				<a href="/privacy" class="text-sm text-text-muted hover:text-text-gray transition-colors">Privacy</a>
				<a href="/terms" class="text-sm text-text-muted hover:text-text-gray transition-colors">Terms</a>
			</div>
		</div>
	</div>
</footer>
